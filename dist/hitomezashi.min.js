class HitomezashiStitch{hHash=[];vHash=[];bColor="#ffffff";SColor="#ffffff";density=10;sWidth="1px";sOpacity="100%";#cHeight=0;#cWidth=0;#svgAttrs={width:"100%",height:"100%"};#rectAttrs={x:0,y:0,width:"100%",height:"100%"};#patternAttrs=null;#HORIZONTAL="h";#VERTICAL="v";#holderID=Math.random().toString(36).substr(2,10);#holder=null;#svg=null;#horiRect=null;#vertRect=null;#horiPattern=null;#vertPattern=null;constructor(t=[],s=[],h="#ffffff",i="#ffffff"){this.hHash=t,this.vHash=s,this.bColor=h,this.SColor=i}setHHash(t){this.hHash=t}setVHash(t){this.vHash=t}setBColor(t){this.bColor=t}setSColor(t){this.SColor=t}setDensity(t){this.density=t}setSWidth(t){this.sWidth=t}setSOpacity(t){this.sOpacity=t}render(){this.#init(),this.#stitch(),this.#svg.appendChild(this.#horiPattern),this.#svg.appendChild(this.#vertPattern),this.#svg.appendChild(this.#horiRect),this.#svg.appendChild(this.#vertRect),this.#holder.appendChild(this.#svg),document.body.prepend(this.#holder)}#init(){var t=document.getElementById(this.#holderID);null!==t&&t.parentNode.removeChild(t),this.#padHashes(),this.#cHeight=this.density*this.hHash.length,this.#cWidth=this.density*this.vHash.length,this.#patternAttrs={x:-1,y:-1,width:this.#cWidth,height:this.#cHeight,patternUnits:"userSpaceOnUse"},this.#holder=this.#genHolder(),this.#svg=this.#svgElWithAttrs("svg",this.#svgAttrs),this.#horiRect=this.#svgElWithAttrs("rect",this.#rectAttrs,{fill:"url(#pattern-horizontal)"}),this.#vertRect=this.#svgElWithAttrs("rect",this.#rectAttrs,{fill:"url(#pattern-vertical)"}),this.#horiPattern=this.#svgElWithAttrs("pattern",this.#patternAttrs,{id:"pattern-horizontal"}),this.#vertPattern=this.#svgElWithAttrs("pattern",this.#patternAttrs,{id:"pattern-vertical"})}#padHashes(){this.hHash.length%2!=0&&this.hHash.push(Math.round(Math.random())),this.vHash.length%2!=0&&this.vHash.push(Math.round(Math.random()))}#stitch(){[this.#HORIZONTAL,this.#VERTICAL].forEach(t=>{var s,h=t===this.#HORIZONTAL?this.hHash:this.vHash,i=t===this.#HORIZONTAL?this.#horiPattern:this.#vertPattern;for(s in i.appendChild(this.#genPath(h[h.length-1],0,t)),h)i.appendChild(this.#genPath(h[s],(+s+1)*this.density,t))})}#genPath(t,s,h){t=h==this.#HORIZONTAL?"M"+(0==t?this.density:0)+" "+s+" L"+this.#cWidth+" "+s:"M"+s+" "+(0==t?this.density:0)+" V "+this.density+" "+this.#cHeight,t=this.#svgElWithAttrs("path",{"stroke-dasharray":this.density+","+this.density,d:t,"stroke-width":this.sWidth,"stroke-opacity":this.sOpacity});let i=this.#svgElWithAttrs("g",{stroke:this.SColor,fill:"none"});return i.appendChild(t),i}#svgElWithAttrs(t,s,h={}){return this.#setAttributes(document.createElementNS("http://www.w3.org/2000/svg",t),s,h)}#setAttributes(t,s,h={}){for(var i in s)t.setAttribute(i,s[i]);for(var i in h)t.setAttribute(i,h[i]);return t}#genHolder(){let t=document.createElement("div");return t.style.cssText="position:fixed;width:100%;height:100%;left:0;top:0;z-index:-100;background-color:"+this.bColor,t.setAttribute("id",this.#holderID),t}}